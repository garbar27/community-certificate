<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MagicBlock Community Certificate</title>

  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700;900&family=Uncial+Antiqua&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

  <style>
    * { box-sizing:border-box; margin:0; padding:0; font-family:'Cinzel', serif; }
    body { background:linear-gradient(180deg,#4b136b,#2a063a); min-height:100vh; }

    .top-bar { padding:24px 40px; color:#e9d5ff; }
    .controls { display:flex; gap:10px; flex-wrap:wrap; }

    .controls input,
    .controls select,
    .controls button {
      padding:10px 14px;
      border-radius:8px;
      border:none;
      font-size:14px;
    }

    .page { display:flex; justify-content:center; margin:36px 0 50px; }

    .certificate {
      position:relative;
      width:900px;
      background:#fff6d8;
      border-radius:32px;
      padding:60px 90px 90px;
      text-align:center;
    }

    .logo {
      display:flex;
      align-items:center;
      justify-content:center;
      gap:14px;
      margin-bottom:22px;
    }

    .logo img {
      width:68px;
      height:68px;
      border-radius:50%;
      background:#fff;
    }

    .logo span {
      font-size:24px;
      font-weight:800;
      letter-spacing:2px;
      color:#8b5cf6;
    }

    h2 { font-family:'Uncial Antiqua', cursive; font-size:40px; margin-bottom:20px; }
    h2 span { color:#8b5cf6; }

    .name { font-size:46px; color:#8b5cf6; margin:18px 0; }

    .wizard {
      position:absolute;
      bottom:95px;
      width:200px;
    }
    .wizard.left { left:50px; transform:scaleX(-1); }
    .wizard.right { right:50px; }

    #quizOverlay {
      display:none;
      position:fixed;
      inset:0;
      background:rgba(0,0,0,.7);
      z-index:999;
      align-items:center;
      justify-content:center;
    }

    .quiz-box {
      background:#fff6d8;
      padding:30px;
      border-radius:20px;
      width:420px;
    }

    .quiz-box select { width:100%; margin-top:6px; padding:8px; }
    .quiz-actions { margin-top:20px; display:flex; justify-content:center; gap:10px; }
  </style>
</head>

<body>

<div class="top-bar">
  <h1>Join MagicBlock Community</h1>
  <div class="controls">
    <input id="nameInput" placeholder="Your name">

    <!-- ✅ ЄДИНИЙ roleSelect -->
    <select id="roleSelect">
      <option>@Wizard</option>
      <option>@Art Magician</option>
      <option>@Gaming Magician</option>
      <option>@Apprentice</option>
      <option>@Sorcerer</option>
      <option>@Adept</option>
      <option>@Inner Circle</option>
      <option>@Mod</option>
      <option>@Team</option>
    </select>

    <input id="dateInput" type="date">
    <button onclick="generateCertificate()">Generate Certificate</button>
    <button onclick="downloadImage()">Download Certificate</button>
  </div>
</div>

<div class="page">
  <div class="certificate" id="certificate">
    <div class="logo">
      <img src="assets/logo.png">
      <span>MAGICBLOCK</span>
    </div>

    <h2>Certificate of <span>MagicBlock</span><br>Community Member</h2>
    <div class="name" id="certName">NAME</div>
    <div>is an official <strong id="certRole">ROLE</strong> of the MagicBlock community</div>
    <div>Member since: <span id="certDate">—</span></div>

    <img src="assets/wizard.png" class="wizard left">
    <img src="assets/wizard.png" class="wizard right">
  </div>
</div>

<div id="quizOverlay">
  <div class="quiz-box">
    <h3>MagicBlock Quiz ✨</h3>

    <p>1. What is MagicBlock?</p>
    <select id="q1">
      <option value="correct" selected>
        MagicBlock is a high-performance blockchain infrastructure built on Solana
      </option>
      <option value="wrong">NFT marketplace</option>
    </select>

    <p>2. Which role exists?</p>
    <select id="q2">
      <option value="correct" selected>@Wizard</option>
      <option value="wrong">@Trader</option>
    </select>

    <p>3. What does MagicBlock value?</p>
    <select id="q3">
      <option value="correct" selected>Creativity and community</option>
      <option value="wrong">Centralization</option>
    </select>

    <div class="quiz-actions">
      <button onclick="submitQuiz()">Submit</button>
      <button onclick="submitQuiz()">Cancel</button>
    </div>
  </div>
</div>

<script>
let quizPassed=false;

function generateCertificate(){
  if(!quizPassed){quizOverlay.style.display="flex";return;}
  certName.innerText=nameInput.value||"NAME";
  certRole.innerText=roleSelect.value;
  certDate.innerText=dateInput.value||"—";
}

function submitQuiz(){
  if(q1.value==="correct"&&q2.value==="correct"&&q3.value==="correct"){
    quizPassed=true;
    quizOverlay.style.display="none";
    generateCertificate();
  } else alert("Some answers are incorrect.");
}

async function downloadImage(){
  if(!quizPassed){quizOverlay.style.display="flex";return;}
  const c=await html2canvas(certificate,{scale:3,backgroundColor:"#fff6d8"});
  const a=document.createElement("a");
  a.href=c.toDataURL("image/png");
  a.download="MagicBlock_Certificate.png";
  a.click();
}
</script>

</body>
</html>


